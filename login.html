<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>เข้าสู่ระบบ EGAT OT</title>
<style>
body {
  font-family: "Prompt", sans-serif;
  background: #0e1535;
  color: #fff;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
}
h1 { margin-bottom: 10px; }
input {
  text-align: center;
  font-size: 1.3em;
  letter-spacing: 5px;
  padding: 8px;
  width: 140px;
  border: none;
  border-radius: 6px;
}
button {
  margin-top: 12px;
  padding: 8px 16px;
  border: none;
  border-radius: 6px;
  background: #4c7aff;
  color: #fff;
  cursor: pointer;
}
p { color: #aaa; font-size: 0.9em; margin-top: 10px; }
</style>
</head>
<body>
  <h1>EGAT OT</h1>
  <p>กรุณาใส่รหัส PIN 6 หลัก</p>
  <input type="password" id="pin" maxlength="6" autofocus>
  <button id="loginBtn">เข้าสู่ระบบ</button>
  <p>รหัสเริ่มต้น: <b>000000</b></p>

<script>
const AUTH_KEY = 'ot_manual_auth_v1';
const PIN_KEY = 'ot_pin';
const defPin = localStorage.getItem(PIN_KEY) || '000000';

document.getElementById('loginBtn').addEventListener('click', () => {
  const pin = document.getElementById('pin').value.trim();
  if (pin === defPin) {
    localStorage.setItem(AUTH_KEY, 'ok');
    location.href = 'index.html?v=18.1.1';
  } else {
    alert('❌ รหัสไม่ถูกต้อง');
  }
});
</script>
</body>
</html>
